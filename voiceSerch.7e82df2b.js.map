{"version":3,"sources":["voiceSerch.js"],"names":["searchForm","document","querySelector","searchFormInput","info","SpeechRecognition","window","webkitSpeechRecognition","recognition","continuous","lang","insertAdjacentHTML","style","paddingRight","micBtn","micIcon","firstElementChild","micBtnClick","classList","contains","start","stop","startSpeechRecognition","remove","add","focus","console","log","endSpeechRecognition","resultOfSpeechRecognition","event","current","resultIndex","transcript","results","toLowerCase","trim","value","submit","addEventListener"],"mappings":";AACA,MAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAkBH,EAAWE,cAAc,SAC3CE,EAAOH,SAASC,cAAc,SAG9BG,EAAoBC,OAAOD,mBAAqBC,OAAOC,wBAE7D,GAAGF,EAAmB,CAGdG,MAAAA,EAAc,IAAIH,EACxBG,EAAYC,YAAa,EACzBD,EAAYE,KAAO,QAEnBV,EAAWW,mBAAmB,YAAa,iGAC3CR,EAAgBS,MAAMC,aAAe,OAE/BC,MAAAA,EAASd,EAAWE,cAAc,UAClCa,EAAUD,EAAOE,kBAGdC,SAAAA,IACJF,EAAQG,UAAUC,SAAS,uBAC5BX,EAAYY,QAGZZ,EAAYa,OAKPC,SAAAA,IACPP,EAAQG,UAAUK,OAAO,uBACzBR,EAAQG,UAAUM,IAAI,iBACtBrB,EAAgBsB,QAChBC,QAAQC,IAAI,0BAILC,SAAAA,IACPb,EAAQG,UAAUK,OAAO,iBACzBR,EAAQG,UAAUM,IAAI,uBACtBrB,EAAgBsB,QAChBC,QAAQC,IAAI,2CAGLE,SAAAA,EAA0BC,GAC3BC,MAAAA,EAAUD,EAAME,YAChBC,EAAaH,EAAMI,QAAQH,GAAS,GAAGE,WAER,mBAAlCA,EAAWE,cAAcC,OAC1B5B,EAAYa,OAELlB,EAAgBkC,MAIc,OAAlCJ,EAAWE,cAAcC,OAC1BpC,EAAWsC,SAE6B,gBAAlCL,EAAWE,cAAcC,OAC/BjC,EAAgBkC,MAAQ,GAGxBlC,EAAgBkC,MAAQJ,EAV1B9B,EAAgBkC,MAAQJ,EAlC5BnB,EAAOyB,iBAAiB,QAAStB,GAUjCT,EAAY+B,iBAAiB,QAASjB,GAQtCd,EAAY+B,iBAAiB,MAAOX,GAOpCpB,EAAY+B,iBAAiB,SAAUV,QAgCvCH,QAAQC,IAAI","file":"voiceSerch.7e82df2b.js","sourceRoot":"../src","sourcesContent":["\nconst searchForm = document.querySelector(\".form__input\");\nconst searchFormInput = searchForm.querySelector(\"input\"); // <=> document.querySelector(\"#search-form input\");\nconst info = document.querySelector(\".info\");\n\n// The speech recognition interface lives on the browserâ€™s window object\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition; // if none exists -> undefined\n\nif(SpeechRecognition) {\n  // console.log(\"Your Browser supports speech Recognition\");\n  \n  const recognition = new SpeechRecognition();\n  recognition.continuous = true;\n  recognition.lang = \"en-US\";\n\n  searchForm.insertAdjacentHTML(\"beforeend\", '<button class=\"form-input-btn\" type=\"button\"><i class=\"fas fa-microphone-slash\"></i></button>');\n  searchFormInput.style.paddingRight = \"50px\";\n\n  const micBtn = searchForm.querySelector(\"button\");\n  const micIcon = micBtn.firstElementChild;\n\n  micBtn.addEventListener(\"click\", micBtnClick);\n  function micBtnClick() {\n    if(micIcon.classList.contains(\"fa-microphone-slash\")) { // Start Voice Recognition\n      recognition.start(); // First time you have to allow access to mic!\n    }\n    else {\n      recognition.stop();\n    }\n  }\n\n  recognition.addEventListener(\"start\", startSpeechRecognition); // <=> recognition.onstart = function() {...}\n  function startSpeechRecognition() {\n    micIcon.classList.remove(\"fa-microphone-slash\");\n    micIcon.classList.add(\"fa-microphone\");\n    searchFormInput.focus();\n    console.log(\"Voice activated, SPEAK\");\n  }\n\n  recognition.addEventListener(\"end\", endSpeechRecognition); // <=> recognition.onend = function() {...}\n  function endSpeechRecognition() {\n    micIcon.classList.remove(\"fa-microphone\");\n    micIcon.classList.add(\"fa-microphone-slash\");\n    searchFormInput.focus();\n    console.log(\"Speech recognition service disconnected\");\n  }\n  recognition.addEventListener(\"result\", resultOfSpeechRecognition); // <=> recognition.onresult = function(event) {...} - Fires when you stop talking\n  function resultOfSpeechRecognition(event) {\n    const current = event.resultIndex;\n    const transcript = event.results[current][0].transcript;\n    \n    if(transcript.toLowerCase().trim()===\"stop recording\") {\n      recognition.stop();\n    }\n    else if(!searchFormInput.value) {\n      searchFormInput.value = transcript;\n    }\n    else {\n      if(transcript.toLowerCase().trim()===\"go\") {\n        searchForm.submit();\n      }\n      else if(transcript.toLowerCase().trim()===\"reset input\") {\n        searchFormInput.value = \"\";\n      }\n      else {\n        searchFormInput.value = transcript;\n      }\n    }\n    // searchFormInput.value = transcript;\n    // searchFormInput.focus();\n    // setTimeout(() => {\n    //   searchForm.submit();\n    // }, 500);\n  }\n//   info.textContent = 'Voice Commands: \"stop recording\", \"reset input\", \"go\"';\n  \n}\nelse {\n  console.log(\"Your Browser does not support speech Recognition\");\n//   info.textContent = \"Your Browser does not support Speech Recognition\";\n}"]}